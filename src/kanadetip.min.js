var KanadeTip={to:"",tokens:[],hidePoweredBy:!1,messages:{}};KanadeTip.messages.plugin="",KanadeTip.messages.title="",KanadeTip.messages.mmMessage="",KanadeTip.messages.message="",KanadeTip.messages.ethAddrTitle="Ethereum address",KanadeTip.messages.thanks="",KanadeTip.messages.error="",KanadeTip.add=function(e,t,a,n,i){KanadeTip.tokens.push({id:e,name:t,addr:a,amount:n,symbol:i})},KanadeTip.generateViews=function(e){var t=document.getElementById("kanadeTip");if(void 0!==t){var a=document.createElement("div");a.setAttribute("id","kanadeTipWrapper"),a.style.cssText="display:inline-block; margin:10px 0; padding:12px; width:300px; background-color:#fff; border:solid 2px #2d4472; border-radius:6px; width:"+e+"px; text-align:center; box-sizing:border-box;",t.appendChild(a);var n=document.createElement("div");a.setAttribute("id","kanadeTipTitle"),n.innerHTML=KanadeTip.messages.title,n.style.cssText="margin-bottom:8px; font-weight:bold; color:#2d4472;",a.appendChild(n),(p=document.createElement("div")).style.cssText="margin-bottom:8px; width:100%; height: 2px; background-color:#2d4472;",a.appendChild(p);var i=document.createElement("div");i.setAttribute("id","kanadeTipMessage"),i.innerHTML=KanadeTip.messages.message,i.style.cssText="margin:4px 0; width:100%; font-weight:bold; font-size:10pt;",a.appendChild(i);var d=document.createElement("div");d.setAttribute("id","kanadeTipEthAddrTitle"),d.innerHTML="Ethereum address",d.style.cssText="margin:4px 0; width:100%; font-size:10pt;",a.appendChild(d);var s=document.createElement("div");s.style.cssText="width:100%; text-align:center;",a.appendChild(s);var r=document.createElement("div");r.setAttribute("id","kanadeTipQR"),s.style.cssText="width:200px; display:inline-block;",s.appendChild(r);new QRCode(document.getElementById("kanadeTipQR"),{text:KanadeTip.to,width:320,height:320,colorDark:"#2d4472",colorLight:"#ffffff"});document.getElementById("kanadeTipQR").getElementsByTagName("img").item(0).style.cssText="padding:10px; width:200px; height:200px; background-color:#fff; border:solid 10px #2d4472; box-sizing:border-box;";var o=document.createElement("div");if(o.setAttribute("id","kanadeTipEthAddr"),o.innerHTML=KanadeTip.to,o.style.cssText="margin:2px 0; font-size:7pt; word-wrap:break-word; white-space:normal; word-break:break-word;",a.appendChild(o),void 0!==window.web3){var p;(p=document.createElement("div")).style.cssText="margin:16px 0 8px 0; width:100%; height: 2px; background-color:#2d4472;",a.appendChild(p);var l=document.createElement("div");l.setAttribute("id","kanadeTipMMMessage"),l.innerHTML=KanadeTip.messages.mmMessage,l.style.cssText="margin:4px 0; width:100%; font-weight:bold; font-size:10pt;",a.appendChild(l);for(var m=0;m<KanadeTip.tokens.length;m++){var c=document.createElement("button");c.setAttribute("class","kanadeTipButton"),c.setAttribute("onclick","KanadeTip.tip("+KanadeTip.tokens[m].id+")"),c.innerHTML="<nobr>"+KanadeTip.tokens[m].name+"</nobr> <nobr>("+KanadeTip.tokens[m].amount+" "+KanadeTip.tokens[m].symbol+")</nobr>",c.style.cssText="margin:4px 0; padding:10px 4px; width:100%; font-weight:bold; border:solid 0 #f44; border-radius:6px; font-size:12pt; background-color:#2d4472; color: #fff",a.appendChild(c)}}if(!KanadeTip.hidePoweredBy){var u=document.createElement("div");u.style.cssText="width:100%; text-align:right;",a.appendChild(u);var T=document.createElement("a");T.setAttribute("id","kanadeTipCopyright"),T.setAttribute("href","https://kanadecoin.com/"),T.setAttribute("rel","nofollow"),T.setAttribute("target","_blank"),T.innerHTML="Powered by KanadeCoin",T.style.cssText="color:#aaa; font-size:12px;",u.appendChild(T)}}},KanadeTip.tip=function(e){for(var t,a,n=null,i=0;i<KanadeTip.tokens.length;i++)KanadeTip.tokens[i].id===e&&(t=KanadeTip.tokens[i].addr,a=KanadeTip.to,n=KanadeTip.tokens[i].amount);null!==t&&null!==a&&null!==n?(Kanade.contractAddress=t,Kanade.ABI=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Kanade.connect(null,function(e){if(e==Kanade.resultCode.Success){var t=n*Math.pow(10,Kanade.decimals);Kanade.transfer(a,t,function(e,t){e==Kanade.resultCode.Success?alert(KanadeTip.messages.thanks+"\nTX : "+t):alert(KanadeTip.messages.error)})}else alert(KanadeTip.messages.error)})):alert(KanadeTip.messages.error)};
